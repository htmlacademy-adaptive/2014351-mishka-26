document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".nav__toggle"),e=document.querySelector(".nav"),n=document.querySelector(".nojs");n&&n.classList.remove("nojs"),t&&t.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("nav--opened")})),t.click();const o=document.querySelector(".modal-container"),c=document.querySelector(".promo__button");c&&c.addEventListener("click",(t=>{t.preventDefault(),o.classList.toggle("modal--open")}));const a=document.querySelectorAll(".catalog__cart-button");function l(t,e){let n=t.parentElement,o=!1;for(;"BODY"!==n.tagName;){if(n.classList.contains(e)){o=!0;break}n=n.parentElement}return o}a.length>0&&a.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault(),o.classList.add("modal--open")}))})),o&&document.addEventListener("click",(function(t){if(o.classList.contains("modal--open")&&!t.target.classList.contains("modal")&&!t.target.classList.contains("promo__button")){let e=!1;a.length&&(e=l(t.target,"catalog__cart-button"));l(t.target,"modal")||e||o.classList.remove("modal--open")}}));const s=document.querySelector(".modal__button");s&&s.addEventListener("click",(function(t){t.preventDefault(),o.classList.remove("modal--open")}))}));